<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCDI Federation Service API Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui.css" />
    <style>
        html {
            box-sizing: border-box;
            overflow: -moz-scrollbars-vertical;
            overflow-y: scroll;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        body {
            margin:0;
            background: #fafafa;
        }
        .swagger-ui .topbar {
            background-color: #2c3e50;
        }
        .custom-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }
        .custom-header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 300;
        }
        .custom-header p {
            margin: 0.5rem 0 0 0;
            font-size: 1.2rem;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="custom-header">
        <h1>CCDI Federation Service API</h1>
        <p>REST API for querying CCDI-DCC  graph database</p>
    </div>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-standalone-preset.js"></script>
    <script>
        window.onload = function() {
            const spec = {"openapi": "3.1.0", "info": {"title": "CCDI Federation Service API", "description": "REST API for querying CCDI-DCC  graph database", "version": "1.0.0", "summary": "Childhood Cancer Data Initiative Federation Service", "contact": {"name": "CCDI Development Team", "email": "support@ccdi.org", "url": "https://github.com/CBIIT/ccdi-dcc-federation-service"}, "license": {"name": "MIT", "url": "https://opensource.org/licenses/MIT"}, "termsOfService": "https://your-server.com/terms"}, "servers": [{"url": "http://localhost:8000/api/v1", "description": "Local development server (default)"}, {"url": "https://your-server.com/api/v1", "description": "Production server"}, {"url": "https://ccdi-federation-test.test.com/api/v1", "description": "Test server - For online testing"}], "paths": {"/subject": {"get": {"tags": ["Subject"], "summary": "Gets the subjects known by this server.", "description": "Gets the subjects known by this server.\n\n### Pagination\n\nThis endpoint is paginated. Users may override the default pagination\nparameters by providing one or more of the pagination-related query\nparameters below.\n\n### Filtering\n\nAll harmonized (top-level) and unharmonized (nested under the\n`metadata.unharmonized` key) metadata fields are filterable. To achieve\nthis, you can provide the field name as a [`String`]. Filtering follows the\nfollowing rules:\n\n* For single-value metadata field, the subject is included in the results if\nits value _exactly_ matches the query string. Matches are case-sensitive.\n* For multiple-value metadata fields, the subject is included in the results\nif any of its values for the field _exactly_ match the query string (a\nlogical OR (`||`)). Matches are case-sensitive.\n* When the metadata field is `null` (in the case of singular or\nmultiple-valued metadata fields) or empty, the subject is not included.\n* When multiple fields are provided as filters, a logical AND (`&&`) strings\ntogether the predicates. In other words, all filters must match for a\nsubject to be returned. Note that this means that servers do not natively\nsupport logical OR (`||`) across multiple fields: that must be done by\ncalling this endpoint with each of your desired queries and performing a\nset union of those subjects out of band.\n\n### Ordering\n\nThis endpoint has default ordering requirements\u2014those details are documented\nin the `SubjectResponse` schema.", "operationId": "subject_index", "parameters": [{"name": "sex", "in": "query", "description": "Matches any subject where the `sex` field matches the string provided.", "required": false, "schema": {"type": "string", "enum": ["F", "M", "U"]}}, {"name": "race", "in": "query", "description": "Matches any subject where any member of the `race` field matches any\nof the provided values. Multiple race values can be provided separated\nby `||` (double pipe) as delimiter. The race field in the database may\ncontain semicolon-separated values (e.g., 'Asian;White'), and the filter\nwill match if any of the provided values is found within those values.\n\n**Delimiter:** Only `||` (double pipe) is accepted as a delimiter for\nmultiple values. All other characters (comma, ampersand, etc.) are treated\nas part of a single race value and will fail validation.\n\n**Valid race values:**\n- Not allowed to collect\n- Native Hawaiian or other Pacific Islander\n- Not Reported\n- Unknown\n- American Indian or Alaska Native\n- Asian\n- Black or African American\n- White\n\n**Examples:**\n- Single value: `?race=White`\n- Multiple values: `?race=White||Black%20or%20African%20American`\n- Invalid (comma): `?race=White,Black` - treated as single invalid value", "required": false, "schema": {"type": "string"}, "example": "White"}, {"name": "ethnicity", "in": "query", "description": "Matches any subject where the `ethnicity` field matches the string\nprovided. Ethnicity is derived from race values: if race contains\n\"Hispanic or Latino\", ethnicity is \"Hispanic or Latino\"; otherwise\n\"Not reported\". Only these two values are accepted.", "required": false, "schema": {"type": "string", "enum": ["Hispanic or Latino", "Not reported"]}}, {"name": "identifiers", "in": "query", "description": "Matches any subject where any member of the `identifiers` field matches\nthe string provided.\n\n**Note:** a logical OR (`||`) is performed across the values when\ndetermining whether the subject should be included in the results.", "required": false, "schema": {"type": "string"}}, {"name": "vital_status", "in": "query", "description": "Matches any subject where the `vital_status` field matches the string\nprovided. Valid values are: Alive, Dead, Not Reported, Unknown.", "required": false, "schema": {"type": "string", "enum": ["Alive", "Dead", "Not Reported", "Unknown"]}}, {"name": "age_at_vital_status", "in": "query", "description": "Matches any subject where the `age_at_vital_status` field matches the\ninteger value provided. The age is stored in days (e.g., 3650 days = ~10 years).\nMust be a valid non-negative integer.", "required": false, "schema": {"type": "integer", "minimum": 0}}, {"name": "page", "in": "query", "description": "The page to retrieve.\n\nThis is a 1-based index of a page within a page set. The value of `page`\n**must** default to `1` when this parameter is not provided.", "required": false, "schema": {"type": "integer", "default": 1, "minimum": 1}}, {"name": "per_page", "in": "query", "description": "The number of results per page.\n\nEach server can select its own default value for `per_page` when this\nparameter is not provided. That said, the convention within the\ncommunity is to use `100` as a default value if any value is equally\nreasonable. This server uses `20` as the default value.", "required": false, "schema": {"type": "integer", "default": 20, "minimum": 1, "maximum": 100}}], "responses": {"200": {"description": "Successful operation.", "headers": {"link": {"schema": {"type": "string"}, "description": "Links to URLs that may be of interest when paging through paginated responses. This header contains two or more links of interest. The format of the field is as follows:\n\n`Link: <URL>; rel=\"REL\"`\n\n### Relationships\n\nIn the format above, `URL` represents a valid URL for the link of interest and `REL` is one of four values:\n- `first` (_Required_). A link to the first page in the results (can be the same as `last` if there is only one page).\n- `last` (_Required_). A link to the last page in the results (can be the same as `first` if there is only one page).\n- `next` (_Optional_). A link to the next page (if it exists).\n- `prev` (_Optional_). A link to the previous page (if it exists).\n\n### Requirements\n\n- This header _must_ provide links for at least the `first` and `last` rels.\n- The `prev` and `next` links must exist only (a) when there are multiple pages in the result page set and (b) when the current page is not the first or last page, respectively.\n- This list of links is unordered.\n\n### Notes\n\n- HTTP 1.1 and HTTP 2.0 dictate that response headers are case insensitive. Though not required, we recommend an all lowercase name of `link` for this response header."}}, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubjectResponse"}, "example": {"summary": {"counts": {"all": 25696, "current": 20}}, "data": [{"id": {"namespace": {"organization": "CCDI-DCC", "name": "phs"}, "name": "TARGET-10-PAKKMW"}, "kind": "Participant", "metadata": {"sex": {"value": "F"}, "race": [{"value": "White"}], "ethnicity": {"value": "Not reported"}, "identifiers": [{"value": {"namespace": {"organization": "CCDI-DCC", "name": "phs"}, "name": "TARGET-10-PAKKMW", "type": "Linked"}}], "associated_diagnoses": [{"value": "Acute Lymphoblastic Leukemia, NOS", "owned": true, "comment": null, "details": {"method": null, "harmonizer": null, "url": "https://portal.pedscommons.org/DD?view=table"}}], "vital_status": {"value": "Alive"}, "age_at_vital_status": {"value": 5475}, "depositions": ["db_gap"]}, "gateways": []}], "pagination": {"page": 1, "per_page": 20, "total_pages": 1285, "total_items": 25696, "has_next": true, "has_prev": false}}}}}, "404": {"description": "Not found.\nServers that cannot provide line-level data should use this response rather than Forbidden (403), as there is no level of authorization that would allow one to access the information included in the API.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}, "example": {"errors": [{"kind": "UnshareableData", "entity": "Subjects", "reason": "Our agreement with data providers prohibits us from sharing line-level data."}]}}}}, "422": {"description": "Invalid query or path parameters.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}, "example": {"errors": [{"kind": "InvalidParameters", "parameters": ["page", "per_page"], "reason": "Unable to calculate offset.", "message": "Invalid value for parameters 'page' and 'per_page': unable to calculate offset."}]}}}}}}}, "/subject/{organization}/{namespace}/{name}": {"get": {"tags": ["Subject"], "summary": "Gets the subject matching the provided id (if the subject exists).", "description": "Gets the subject matching the provided id (if the subject exists).", "operationId": "subject_show", "parameters": [{"name": "organization", "in": "path", "description": "The organization identifier of the namespace to which the subject belongs. Defaults to 'CCDI-DCC'.", "required": true, "schema": {"type": "string", "example": "CCDI-DCC", "default": "CCDI-DCC"}}, {"name": "namespace", "in": "path", "description": "The namespace identifier (study_id value) to which the subject belongs. This is the value of the study_id field from the database.", "required": true, "schema": {"type": "string", "example": "phs000465"}}, {"name": "name", "in": "path", "description": "The name portion of the subject identifier (participant ID).", "required": true, "schema": {"type": "string", "example": "TARGET-10-PAKKMW"}}], "responses": {"200": {"description": "Successful operation.", "content": {"application/json": {"schema": {"oneOf": [{"$ref": "#/components/schemas/Subject"}, {"$ref": "#/components/schemas/SubjectResponse"}]}}}}, "404": {"description": "Not found.\nServers that cannot provide line-level data should use this response rather than Forbidden (403), as there is no level of authorization that would allow one to access the information included in the API.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}, "example": {"errors": [{"kind": "NotFound", "entity": "Subjects", "message": "Subjects not found."}]}}}}}}}, "/subject/summary": {"get": {"tags": ["Subject"], "summary": "Reports summary information for the subjects known by this server.", "description": "Reports summary information for the subjects known by this server.", "operationId": "subject_summary", "responses": {"200": {"description": "Summary counts successfully returned", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SummaryResponse"}, "example": {"counts": {"total": 104496}}}}}}}}, "/subject/by/{field}/count": {"get": {"tags": ["Subject"], "summary": "Groups the subjects by the specified metadata field and returns counts.", "description": "Groups the subjects by the specified metadata field and returns counts.", "operationId": "subjects_by_count", "parameters": [{"name": "field", "in": "path", "description": "The field to group by and count with.", "required": true, "schema": {"type": "string", "enum": ["sex", "race", "ethnicity", "vital_status", "age_at_vital_status", "associated_diagnoses"]}, "examples": {"sex": {"value": "sex", "summary": "Count by sex"}, "race": {"value": "race", "summary": "Count by race"}, "ethnicity": {"value": "ethnicity", "summary": "Count by ethnicity"}, "vital_status": {"value": "vital_status", "summary": "Count by vital status"}, "age_at_vital_status": {"value": "age_at_vital_status", "summary": "Count by age at vital status"}, "associated_diagnoses": {"value": "associated_diagnoses", "summary": "Count by associated diagnoses"}}}], "responses": {"200": {"description": "Successful operation.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CountResponse"}}}}, "422": {"description": "Unsupported field.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}, "example": {"errors": [{"kind": "UnsupportedField", "field": "handedness", "reason": "This field is not present for subjects.", "message": "Field 'handedness' is not supported: this field is not present for subjects."}]}}}}}}}, "/errors/examples": {"get": {"summary": "Error response examples", "description": "This endpoint provides example error responses for different error types.\nThis is a reference endpoint showing the structure of error responses\nthat may be returned by other endpoints.\n\n**Error Types:**\n- `InvalidRoute`: Returned when requesting a non-existent route\n- `InvalidParameters`: Returned when request parameters are invalid\n- `NotFound`: Returned when a requested resource is not found\n- `UnshareableData`: Returned when data cannot be shared due to agreements\n- `UnsupportedField`: Returned when a field is not supported for operations\n\nFor 400 or 404 errors, always use a customized response to avoid exposing\nany internal error messages or user inputs. Any error not covered by the\ncategories below should return a 404 NotFound error.\n", "tags": ["errors"], "parameters": [{"name": "error_type", "in": "query", "description": "Type of error example to return", "required": false, "schema": {"type": "string", "enum": ["InvalidRoute", "InvalidParameters", "NotFound", "UnshareableData", "UnsupportedField", "all"], "default": "all"}, "examples": {"InvalidRoute": {"value": "InvalidRoute", "summary": "Invalid route error example"}, "InvalidParameters": {"value": "InvalidParameters", "summary": "Invalid parameters error example"}, "NotFound": {"value": "NotFound", "summary": "Not found error example"}, "UnshareableData": {"value": "UnshareableData", "summary": "Unshareable data error example"}, "UnsupportedField": {"value": "UnsupportedField", "summary": "Unsupported field error example"}, "all": {"value": "all", "summary": "All error examples"}}}], "responses": {"200": {"description": "Error examples successfully returned", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}, "examples": {"allErrors": {"summary": "All error examples", "value": {"errors": [{"kind": "InvalidRoute", "method": "GET", "route": "/foobar"}, {"kind": "InvalidParameters", "parameters": ["id"], "reason": "The parameter was a non-integer value."}, {"kind": "NotFound", "entity": "Samples"}, {"kind": "UnshareableData", "entity": "Sample", "reason": "Our agreement with data providers prohibits us from sharing line-level data."}, {"kind": "UnsupportedField", "field": "field", "reason": "The field was not found in the metadata object."}]}}, "invalidRoute": {"summary": "Invalid route error", "value": {"errors": [{"kind": "InvalidRoute", "method": "GET", "route": "/foobar"}]}}, "invalidParameters": {"summary": "Invalid parameters error", "value": {"errors": [{"kind": "InvalidParameters", "parameters": ["id"], "reason": "The parameter was a non-integer value."}]}}, "notFound": {"summary": "Not found error", "value": {"errors": [{"kind": "NotFound", "entity": "Samples"}]}}, "unshareableData": {"summary": "Unshareable data error", "value": {"errors": [{"kind": "UnshareableData", "entity": "Sample", "reason": "Our agreement with data providers prohibits us from sharing line-level data."}]}}, "unsupportedField": {"summary": "Unsupported field error", "value": {"errors": [{"kind": "UnsupportedField", "field": "field", "reason": "The field was not found in the metadata object."}]}}}}}}}}}, "/namespace": {"get": {"tags": ["Namespace"], "summary": "Gets the namespaces known by this server.", "description": "Gets the namespaces known by this server.", "operationId": "namespace_index", "responses": {"200": {"description": "Successful operation.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NamespacesResponse"}}}}, "500": {"description": "Internal server error.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}}}}}}}, "/namespace/{organization}/{namespace}": {"get": {"tags": ["Namespace"], "summary": "Gets the namespace matching the provided name (if it exists).", "description": "Gets the namespace matching the provided name (if it exists).", "operationId": "namespace_show", "parameters": [{"name": "organization", "in": "path", "description": "The organization of the namespace.", "required": true, "schema": {"type": "string"}}, {"name": "namespace", "in": "path", "description": "The name of the namespace.", "required": true, "schema": {"type": "string"}}], "responses": {"200": {"description": "Successful operation.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NamespaceResponse"}}}}, "404": {"description": "Namespace not found.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}, "example": {"errors": [{"kind": "NotFound", "entity": "Namespaces", "message": "Namespaces not found."}]}}}}, "500": {"description": "Internal server error.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}}}}}}}, "/organization": {"get": {"tags": ["Organization"], "summary": "Gets the organizations known by this server.", "description": "Gets the organizations known by this server.", "operationId": "organization_index", "responses": {"200": {"description": "Successful operation.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationsResponse"}}}}, "500": {"description": "Internal server error.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}}}}}}}, "/organization/{name}": {"get": {"tags": ["Organization"], "summary": "Gets the organization matching the provided name (if it exists).", "description": "Gets the organization matching the provided name (if it exists).", "operationId": "organization_show", "parameters": [{"name": "name", "in": "path", "description": "The name of the organization.", "required": true, "schema": {"type": "string"}}], "responses": {"200": {"description": "Successful operation.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationResponse"}}}}, "404": {"description": "Organization not found.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}, "example": {"errors": [{"kind": "NotFound", "entity": "Organization"}]}}}}, "500": {"description": "Internal server error.", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorsResponse"}}}}}}}}, "components": {"schemas": {"Subject": {"type": "object", "description": "Normalized participant entity returned by this service.", "properties": {"id": {"$ref": "#/components/schemas/SubjectId"}, "kind": {"type": "string", "example": "Participant", "const": "Participant"}, "metadata": {"$ref": "#/components/schemas/SubjectMetadata"}, "gateways": {"type": "array", "items": {"type": "string"}, "default": []}}, "required": ["id", "kind", "metadata", "gateways"], "examples": [{"id": {"namespace": {"organization": "CCDI-DCC", "name": "phs"}, "name": "TARGET-10-PAKKMW"}, "kind": "Participant", "metadata": {"sex": {"value": "F"}, "race": [{"value": "White"}], "ethnicity": {"value": "Not reported"}, "identifiers": [{"value": {"namespace": {"organization": "CCDI-DCC", "name": "phs"}, "name": "TARGET-10-PAKKMW", "type": "Linked"}}], "associated_diagnoses": [{"value": "Acute Lymphoblastic Leukemia, NOS", "owned": true, "comment": null, "details": {"method": null, "harmonizer": null, "url": "https://portal.pedscommons.org/DD?view=table"}}], "vital_status": {"value": "Alive"}, "age_at_vital_status": {"value": 5475}, "depositions": ["db_gap"]}, "gateways": []}]}, "SubjectId": {"type": "object", "description": "Compound identifier composed of namespace and local name.", "properties": {"namespace": {"$ref": "#/components/schemas/Namespace"}, "name": {"type": "string", "example": "TARGET-10-PAKKMW", "pattern": "^[A-Z0-9-]+$"}}, "required": ["namespace", "name"]}, "Namespace": {"type": "object", "description": "Authority issuing the identifier (organization plus prefixed study name).", "properties": {"organization": {"type": "string", "example": "CCDI-DCC", "const": "CCDI-DCC"}, "name": {"type": "string", "example": "phs", "pattern": "^phs$"}}, "required": ["organization", "name"]}, "SubjectMetadata": {"type": "object", "description": "Harmonized and unharmonized attributes associated with the participant.", "properties": {"sex": {"$ref": "#/components/schemas/MetadataField"}, "race": {"type": "array", "items": {"$ref": "#/components/schemas/MetadataField"}, "minItems": 0}, "ethnicity": {"$ref": "#/components/schemas/MetadataField"}, "identifiers": {"type": "array", "items": {"$ref": "#/components/schemas/IdentifierField"}, "minItems": 1}, "associated_diagnoses": {"type": "array", "items": {"$ref": "#/components/schemas/AssociatedDiagnosisField"}, "minItems": 0}, "vital_status": {"$ref": "#/components/schemas/MetadataField"}, "age_at_vital_status": {"$ref": "#/components/schemas/MetadataField"}, "depositions": {"type": "array", "items": {"type": "string"}, "default": ["db_gap"]}}, "required": ["sex", "race", "ethnicity", "identifiers", "associated_diagnoses", "vital_status", "age_at_vital_status", "depositions"]}, "MetadataField": {"type": "object", "description": "Scalar metadata value with optional ancestry/provenance.", "properties": {"value": {"type": "string", "minLength": 1}, "ancestors": {"type": ["string", "null"], "default": null}}, "required": ["value", "ancestors"]}, "IdentifierField": {"type": "object", "description": "External identifier binding for the participant.", "properties": {"value": {"$ref": "#/components/schemas/IdentifierValue"}, "ancestors": {"type": ["string", "null"], "default": null}}, "required": ["value", "ancestors"]}, "IdentifierValue": {"type": "object", "description": "Concrete identifier value including namespace and local name.", "properties": {"namespace": {"$ref": "#/components/schemas/Namespace"}, "name": {"type": "string", "minLength": 1}}, "required": ["namespace", "name"]}, "AssociatedDiagnosisField": {"type": "object", "description": "Diagnosis term assigned to the participant with optional metadata.", "properties": {"value": {"type": "string", "minLength": 1}, "ancestors": {"type": ["string", "null"], "default": null}, "owned": {"type": "boolean", "default": true}, "comment": {"type": ["string", "null"], "default": null}, "details": {"$ref": "#/components/schemas/DiagnosisDetails"}}, "required": ["value", "ancestors", "owned", "comment", "details"]}, "DiagnosisDetails": {"type": "object", "description": "Additional details for a diagnosis value (optional metadata).", "properties": {"method": {"type": ["string", "null"], "default": null}, "harmonizer": {"type": ["string", "null"], "default": null}, "url": {"type": "string", "example": "https://portal.pedscommons.org/DD?view=table", "format": "uri"}}, "required": ["method", "harmonizer", "url"]}, "SubjectResponse": {"type": "object", "description": "Envelope containing source metadata, result list, and pagination info.", "properties": {"summary": {"$ref": "#/components/schemas/Summary"}, "data": {"type": "array", "items": {"$ref": "#/components/schemas/Subject"}}, "pagination": {"$ref": "#/components/schemas/PaginationInfo"}}}, "Summary": {"type": "object", "description": "Top-level counts related to the current result set and overall corpus.", "properties": {"counts": {"$ref": "#/components/schemas/Counts"}}}, "Counts": {"type": "object", "description": "Count metrics: all = total unique participants; current = items returned in this page.", "properties": {"all": {"type": "integer", "example": 104496}, "current": {"type": "integer", "example": 20}}}, "PaginationInfo": {"type": "object", "description": "Pagination metadata for client navigation.", "properties": {"page": {"type": "integer", "example": 1}, "per_page": {"type": "integer", "example": 20}, "total_pages": {"type": "integer", "example": 5225}, "total_items": {"type": "integer", "example": 104496}, "has_next": {"type": "boolean", "example": true}, "has_prev": {"type": "boolean", "example": false}}}, "SummaryCounts": {"type": "object", "description": "Summary counts structure.", "properties": {"total": {"type": "integer", "description": "Total entity count"}}, "required": ["total"]}, "SummaryResponse": {"type": "object", "description": "Summary-only response for endpoints that return aggregate counts.", "properties": {"counts": {"$ref": "#/components/schemas/SummaryCounts"}}, "required": ["counts"]}, "CountResponse": {"type": "object", "description": "Response for field counting endpoints with total, missing, and value counts.", "properties": {"total": {"type": "integer", "description": "Total counts of all unique participants matching filters", "example": 25696}, "missing": {"type": "integer", "description": "Count of unique participants with null value in the field", "example": 1069}, "values": {"type": "array", "description": "Count results for each distinct field value", "items": {"$ref": "#/components/schemas/CountResult"}}}, "required": ["total", "missing", "values"]}, "CountResult": {"type": "object", "description": "Count result for a specific field value.", "properties": {"value": {"type": "string", "description": "The field value", "example": "M"}, "count": {"type": "integer", "description": "Number of unique participants with this value", "example": 15234}}, "required": ["value", "count"]}, "ErrorsResponse": {"type": "object", "description": "Error response envelope containing a list of errors.", "properties": {"errors": {"type": "array", "items": {"$ref": "#/components/schemas/ErrorDetail"}}}, "required": ["errors"]}, "ErrorDetail": {"type": "object", "description": "Individual error detail. Fields vary by error kind.", "properties": {"kind": {"type": "string", "description": "Error kind identifier", "enum": ["InvalidRoute", "InvalidParameters", "NotFound", "UnshareableData", "UnsupportedField"], "example": "NotFound"}, "method": {"type": "string", "description": "HTTP method (for InvalidRoute errors)", "example": "GET"}, "route": {"type": "string", "description": "Invalid route path (for InvalidRoute errors)", "example": "/foobar"}, "parameters": {"type": "array", "description": "List of invalid parameter names (for InvalidParameters errors)", "items": {"type": "string"}, "example": ["id"]}, "reason": {"type": "string", "description": "Explanation for the error", "example": "The parameter was a non-integer value."}, "entity": {"type": "string", "description": "Entity type or identifier (for NotFound/UnshareableData errors)", "example": "Samples"}, "field": {"type": "string", "description": "Field name (for UnsupportedField errors)", "example": "field"}}, "oneOf": [{"type": "object", "required": ["kind", "method", "route"]}, {"type": "object", "required": ["kind", "parameters", "reason"]}, {"type": "object", "required": ["kind", "entity"]}, {"type": "object", "required": ["kind", "entity", "reason"]}, {"type": "object", "required": ["kind", "field", "reason"]}]}, "NamespaceEntity": {"type": "object", "description": "Namespace entity with identifier, description, and metadata.", "properties": {"id": {"$ref": "#/components/schemas/NamespaceIdentifier"}, "description": {"type": "string", "description": "Human-readable description of the namespace", "example": "Namespace for CCDI-DCC phs studies"}, "contact_email": {"type": "string", "format": "email", "description": "Contact email for namespace support", "example": "support@ccdi.org"}, "metadata": {"type": "object", "description": "Additional namespace metadata", "nullable": true}}, "required": ["id", "description", "contact_email"]}, "NamespaceIdentifier": {"type": "object", "description": "Namespace identifier composed of organization and name.", "properties": {"organization": {"type": "string", "description": "Organization identifier", "example": "CCDI-DCC", "const": "CCDI-DCC"}, "name": {"type": "string", "description": "Namespace name (study identifier)", "example": "phs"}}, "required": ["organization", "name"]}, "OrganizationEntity": {"type": "object", "description": "Organization entity with identifier, name, and metadata.", "properties": {"identifier": {"type": "string", "description": "Organization identifier", "example": "CCDI-DCC", "const": "CCDI-DCC"}, "name": {"type": "string", "description": "Human-readable organization name", "example": "Childhood Cancer Data Initiative Data Coordinating Center"}, "metadata": {"type": "object", "description": "Additional organization metadata", "nullable": true}}, "required": ["identifier", "name"]}, "NamespacesResponse": {"type": "object", "description": "Response containing a list of namespaces.", "properties": {"namespaces": {"type": "array", "items": {"$ref": "#/components/schemas/NamespaceEntity"}}}, "required": ["namespaces"]}, "NamespaceResponse": {"type": "object", "description": "Response containing a single namespace.", "properties": {"namespace": {"$ref": "#/components/schemas/NamespaceEntity"}}, "required": ["namespace"]}, "OrganizationsResponse": {"type": "object", "description": "Response containing a list of organizations.", "properties": {"organizations": {"type": "array", "items": {"$ref": "#/components/schemas/OrganizationEntity"}}}, "required": ["organizations"]}, "OrganizationResponse": {"type": "object", "description": "Response containing a single organization.", "properties": {"organization": {"$ref": "#/components/schemas/OrganizationEntity"}}, "required": ["organization"]}, "Error": {"type": "object", "description": "Standard error envelope (legacy - use ErrorsResponse).", "properties": {"detail": {"type": "string", "example": "Subject not found"}}}}}, "tags": [{"name": "Subject", "description": "Subjects within the CCDI federated ecosystem."}, {"name": "Namespace", "description": "List and describe namespaces known by this server."}, {"name": "Organization", "description": "List and describe organizations known by this server."}, {"name": "Errors", "description": "Error response examples and documentation."}]};
            
            const ui = SwaggerUIBundle({
                spec: spec,
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIStandalonePreset
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ],
                layout: "StandaloneLayout",
                validatorUrl: null,
                tryItOutEnabled: true,
                supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch']
            });
            
            window.ui = ui;
        };
    </script>
</body>
</html>